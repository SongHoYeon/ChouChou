{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/Users/user/Desktop/ChouChou/App/node_modules/react-native-whc-calendar/calendar.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport SectionList from \"react-native-web/dist/exports/SectionList\";\nimport TouchableHighlight from \"react-native-web/dist/exports/TouchableHighlight\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport PropTypes from 'prop-types';\nimport CalendarGridItem from \"./calendar-grid-item\";\nimport { calendar } from \"./calendar-tool\";\nvar yholidayMap = {\n  '01-01': '元旦',\n  '01-05': '小寒',\n  '01-06': '小寒',\n  '01-20': '大寒',\n  '01-21': '大寒',\n  '02-04': '立春',\n  '02-05': '立春',\n  '02-14': '情人节',\n  '02-18': '雨水',\n  '02-19': '雨水',\n  '02-24': '青年日',\n  '03-01': '海豹节',\n  '03-05': '雷锋纪念日',\n  '03-06': '惊蜇',\n  '03-08': '妇女节',\n  '03-12': '植树节',\n  '03-14': '警察日',\n  '03-17': '航海日',\n  '03-18': '活动日',\n  '03-20': '春分',\n  '03-21': '春分',\n  '03-22': '水日',\n  '03-23': '气象日',\n  '03-24': '结核病日',\n  '03-31': '教育日',\n  '04-01': '愚人节',\n  '04-03': '寒食节',\n  '04-04': '寒食节',\n  '04-05': '清明节',\n  '04-20': '谷雨',\n  '04-21': '谷雨',\n  '05-01': '劳动节',\n  '05-04': '青年节',\n  '05-05': '立夏',\n  '05-06': '立夏',\n  '05-20': '小满',\n  '05-21': '小满',\n  '06-01': '儿童节',\n  '06-05': '芒种',\n  '06-06': '芒种',\n  '06-21': '夏至',\n  '06-22': '夏至',\n  '07-07': '小暑',\n  '07-08': '小暑',\n  '07-22': '大暑',\n  '07-23': '大暑',\n  '08-01': '建军节',\n  '08-07': '立秋',\n  '08-08': '立秋',\n  '08-23': '处暑',\n  '08-24': '处暑',\n  '09-07': '白露',\n  '09-08': '白露',\n  '09-10': '教师节',\n  '09-17': '和平日',\n  '09-23': '秋分',\n  '09-24': '秋分',\n  '10-01': '国庆节',\n  '10-08': '寒露',\n  '10-09': '寒露',\n  '10-23': '霜降',\n  '10-24': '联合国日',\n  '10-31': '万圣节',\n  '11-02': '万灵节',\n  '11-07': '立冬',\n  '11-08': '立冬',\n  '11-11': '光棍节',\n  '11-17': '大学生节',\n  '11-22': '小雪',\n  '11-23': '小雪',\n  '12-07': '大雪',\n  '12-08': '大雪',\n  '12-21': '冬至',\n  '12-22': '冬至',\n  '12-24': '平安夜',\n  '12-25': '圣诞节'\n};\nvar nholidayMap = {\n  '01-01': '春节',\n  '01-15': '元宵节',\n  '05-05': '端午节',\n  '07-07': '情人节',\n  '08-15': '中秋节',\n  '09-09': '重阳节',\n  '06-24': '火把节',\n  '10-01': '祭祖节',\n  '12-08': '腊八节',\n  '12-23': '小年',\n  '12-30': '除夕'\n};\n\nvar Calendar = function (_Component) {\n  _inherits(Calendar, _Component);\n\n  var _super = _createSuper(Calendar);\n\n  function Calendar(props) {\n    var _this;\n\n    _classCallCheck(this, Calendar);\n\n    _this = _super.call(this, props);\n    var cdate = new Date();\n    _this.dateInfo = {\n      year: cdate.getFullYear(),\n      month: cdate.getMonth() + 1,\n      day: cdate.getDate(),\n      nowDateStr: cdate.getFullYear() + '-' + (cdate.getMonth() + 1 < 10 ? '0' + (cdate.getMonth() + 1) : cdate.getMonth() + 1 + '') + '-' + (cdate.getDate() < 10 ? '0' + cdate.getDate() : cdate.getDate() + '')\n    };\n    _this.state = {\n      sections: []\n    };\n    _this.sections = [];\n    _this.startDate = null;\n    _this.endDate = null;\n    return _this;\n  }\n\n  _createClass(Calendar, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var calculateDate = new Promise(function (resolve, reject) {\n        var _this2$props = _this2.props,\n            days = _this2$props.days,\n            months = _this2$props.months,\n            startYear = _this2$props.startYear,\n            endYear = _this2$props.endYear;\n        var sections = [];\n\n        if (days > 0) {\n          sections = _this2._generatorDateWithDays(days);\n        } else if (months > 0) {\n          sections = _this2._generatorDateWithMonth(months);\n        } else if (startYear > 0 && endYear > 0) {\n          sections = _this2._generatorDateWithYear(startYear, endYear);\n        }\n\n        resolve(sections);\n      });\n      calculateDate.then(function (sections) {\n        _this2.setState(function (state) {\n          state.sections = sections;\n          return state;\n        });\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.timer && clearTimeout(this.timer);\n    }\n  }, {\n    key: \"_createButton\",\n    value: function _createButton(style, text, onPress) {\n      return React.createElement(TouchableHighlight, {\n        style: style,\n        underlayColor: 'transparency',\n        onPress: onPress,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 17\n        }\n      }, text));\n    }\n  }, {\n    key: \"_createWeekHeader\",\n    value: function _createWeekHeader() {\n      return React.createElement(View, {\n        style: styles.headerWeek,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: [styles.headerWeekTitle, {\n          color: 'red'\n        }],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 17\n        }\n      }, '日'), React.createElement(Text, {\n        style: styles.headerWeekTitle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 17\n        }\n      }, '一'), React.createElement(Text, {\n        style: styles.headerWeekTitle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 17\n        }\n      }, '二'), React.createElement(Text, {\n        style: styles.headerWeekTitle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 17\n        }\n      }, '三'), React.createElement(Text, {\n        style: styles.headerWeekTitle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 17\n        }\n      }, '四'), React.createElement(Text, {\n        style: styles.headerWeekTitle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 17\n        }\n      }, '五'), React.createElement(Text, {\n        style: [styles.headerWeekTitle, {\n          color: 'red'\n        }],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 17\n        }\n      }, '六'));\n    }\n  }, {\n    key: \"_createWeekSection\",\n    value: function _createWeekSection(item) {\n      var section = item.section;\n      return [React.createElement(View, {\n        key: section.title,\n        style: styles.headerWeekSection,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 14\n        }\n      }, React.createElement(Text, {\n        style: styles.headerWeekSectionTitle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 17\n        }\n      }, section.title)), this._createRowLine(section.title + '1')];\n    }\n  }, {\n    key: \"_createItem\",\n    value: function _createItem(items) {\n      var _this3 = this;\n\n      var itemViews = [];\n      var item = items.item;\n      var oneDay = item.days[0];\n\n      if (oneDay.week > 0) {\n        for (var i = 0; i < oneDay.week; i++) {\n          itemViews.push(React.createElement(CalendarGridItem, {\n            key: i,\n            item: null,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 32\n            }\n          }));\n        }\n      }\n\n      var _this$props = this.props,\n          _this$props$startSele = _this$props.startSelectedHint,\n          startSelectedHint = _this$props$startSele === void 0 ? null : _this$props$startSele,\n          _this$props$endSelect = _this$props.endSelectedHint,\n          endSelectedHint = _this$props$endSelect === void 0 ? null : _this$props$endSelect,\n          _this$props$selectedC = _this$props.selectedColor,\n          selectedColor = _this$props$selectedC === void 0 ? '#1895D4' : _this$props$selectedC,\n          _this$props$selectedM = _this$props.selectedMidColor,\n          selectedMidColor = _this$props$selectedM === void 0 ? 'rgba(24,149,212,0.2)' : _this$props$selectedM,\n          _this$props$selectedT = _this$props.selectedTextColor,\n          selectedTextColor = _this$props$selectedT === void 0 ? '#fff' : _this$props$selectedT,\n          _this$props$highlight = _this$props.highlightColor,\n          highlightColor = _this$props$highlight === void 0 ? 'red' : _this$props$highlight;\n      item.days.forEach(function (v, i) {\n        itemViews.push(React.createElement(CalendarGridItem, {\n          startSelectedHint: startSelectedHint,\n          endSelectedHint: endSelectedHint,\n          selectedColor: selectedColor,\n          selectedMidColor: selectedMidColor,\n          selectedTextColor: selectedTextColor,\n          highlightColor: highlightColor,\n          key: v.key,\n          item: v,\n          onPress: function onPress(it) {\n            var _this3$props = _this3.props,\n                invalidDateNotSelected = _this3$props.invalidDateNotSelected,\n                _this3$props$onSelect = _this3$props.onSelectedDateBlock,\n                onSelectedDateBlock = _this3$props$onSelect === void 0 ? null : _this3$props$onSelect,\n                _this3$props$enableSi = _this3$props.enableSingleChoice,\n                enableSingleChoice = _this3$props$enableSi === void 0 ? false : _this3$props$enableSi;\n            var _this3$state$sections = _this3.state.sections,\n                sections = _this3$state$sections === void 0 ? [] : _this3$state$sections;\n\n            if (!_this3.startDate || _this3.startDate && _this3.endDate || enableSingleChoice) {\n              _this3.startDate = it;\n              _this3.endDate = null;\n              var _this3$startDate = _this3.startDate,\n                  startDate = _this3$startDate === void 0 ? null : _this3$startDate;\n              var tmpStartDate = startDate.year + startDate.month + startDate.day;\n              sections.forEach(function (v) {\n                v.data[0].days.forEach(function (dv) {\n                  var tmpdate = dv.year + dv.month + dv.day;\n                  dv.startSelected = tmpStartDate === tmpdate;\n                  dv.endSelected = false;\n                  dv.isSelected = false;\n                  dv.isLessToday = invalidDateNotSelected ? tmpStartDate > tmpdate : false;\n                });\n              });\n\n              if (enableSingleChoice) {\n                onSelectedDateBlock && onSelectedDateBlock(startDate.year + '-' + startDate.month + '-' + startDate.day, null);\n              }\n            } else if (!_this3.endDate) {\n              _this3.endDate = it;\n\n              var _this3$startDate2 = _this3.startDate,\n                  _startDate = _this3$startDate2 === void 0 ? null : _this3$startDate2,\n                  _this3$endDate = _this3.endDate,\n                  endDate = _this3$endDate === void 0 ? null : _this3$endDate;\n\n              var nowDateStr = _this3.dateInfo.nowDateStr.replace(new RegExp('-', 'g'), '');\n\n              var _tmpStartDate = _startDate.year + _startDate.month + _startDate.day;\n\n              var tmpEndDate = endDate.year + endDate.month + endDate.day;\n              sections.forEach(function (v) {\n                v.data[0].days.forEach(function (dv) {\n                  var tmpdate = dv.year + dv.month + dv.day;\n                  dv.startSelected = _tmpStartDate === tmpdate;\n                  dv.endSelected = tmpEndDate === tmpdate;\n                  dv.isSelected = tmpdate > _tmpStartDate && tmpdate < tmpEndDate;\n                  dv.isLessToday = invalidDateNotSelected ? nowDateStr > tmpdate : false;\n                });\n              });\n              onSelectedDateBlock && onSelectedDateBlock(_startDate.year + '-' + _startDate.month + '-' + _startDate.day, endDate.year + '-' + endDate.month + '-' + endDate.day);\n            }\n\n            _this3.setState(function (state) {\n              state.sections = sections;\n              return state;\n            });\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 17\n          }\n        }));\n      });\n      itemLen = itemViews.length;\n      var lastDay = item.days[item.days.length - 1];\n\n      if (lastDay.week < 6) {\n        for (var _i = lastDay.week; _i < 6; _i++) {\n          itemViews.push(React.createElement(CalendarGridItem, {\n            key: itemLen + _i,\n            item: null,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 370,\n              columnNumber: 32\n            }\n          }));\n        }\n      }\n\n      return React.createElement(View, {\n        key: item.key,\n        style: styles.sectionItem,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 13\n        }\n      }, itemViews);\n    }\n  }, {\n    key: \"_createRowLine\",\n    value: function _createRowLine() {\n      var key = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '0';\n      return React.createElement(View, {\n        key: key,\n        style: {\n          height: 1,\n          backgroundColor: '#f1f1f1'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 13\n        }\n      });\n    }\n  }, {\n    key: \"_generatorDateWithDays\",\n    value: function _generatorDateWithDays() {\n      var days = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : -1;\n      var sections = [];\n\n      if (days > 0) {\n        var nowDate = new Date();\n        var sumDays = nowDate.getDate() + days;\n        var months = Math.floor(sumDays / 30) + (sumDays % 30 !== 0 ? 1 : 0);\n        sections = this._generatorDateWithMonth(months, sumDays);\n      }\n\n      return sections;\n    }\n  }, {\n    key: \"_generatorDateWithMonth\",\n    value: function _generatorDateWithMonth(monthCount) {\n      var expectDays = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : -1;\n      var sections = [];\n      var nowDate = new Date();\n      var nowYear = nowDate.getFullYear();\n      var nowMonth = nowDate.getMonth();\n      var years = Math.floor((nowMonth + monthCount) / 12) + ((monthCount + nowMonth) % 12 !== 0 ? 1 : 0);\n      var curSumDays = 0;\n\n      for (var y = 0; y < years; y++) {\n        var tempMonthCount = 12;\n        var startMonth = 0;\n\n        if (y === 0) {\n          startMonth = nowMonth;\n        }\n\n        if (y === years - 1) {\n          tempMonthCount = monthCount - sections.length;\n\n          if (tempMonthCount < startMonth || y === 0) {\n            tempMonthCount = startMonth + tempMonthCount;\n          }\n        }\n\n        for (var m = startMonth; m < tempMonthCount; m++) {\n          var tempYear = nowYear + y;\n          var tempMonth = m + 1;\n\n          var days = this._generatorDays(tempYear, tempMonth, expectDays - curSumDays);\n\n          curSumDays += days.length;\n          var tempMonthStr = tempMonth < 10 ? '0' + tempMonth : tempMonth + '';\n          var key = tempYear + '年' + tempMonth + '月';\n          sections.push({\n            key: key,\n            title: key,\n            year: tempYear + '',\n            month: tempMonthStr,\n            data: [{\n              key: key,\n              days: days\n            }]\n          });\n        }\n      }\n\n      return sections;\n    }\n  }, {\n    key: \"_generatorDateWithYear\",\n    value: function _generatorDateWithYear(startYear, endYear) {\n      var sections = [];\n\n      if (endYear >= startYear) {\n        var years = endYear - startYear;\n\n        for (var y = 0; y <= years; y++) {\n          for (var m = 0; m < 12; m++) {\n            var tempYear = startYear + y;\n            var tempMonth = m + 1;\n\n            var days = this._generatorDays(tempYear, tempMonth);\n\n            var key = tempYear + '年' + tempMonth + '月';\n            var tempMonthStr = tempMonth < 10 ? '0' + tempMonth : tempMonth + '';\n            sections.push({\n              key: key,\n              title: key,\n              year: tempYear + '',\n              month: tempMonthStr,\n              data: [{\n                key: key,\n                days: days\n              }]\n            });\n          }\n        }\n      }\n\n      return sections;\n    }\n  }, {\n    key: \"_generatorDays\",\n    value: function _generatorDays(year, month) {\n      var expectDays = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : -1;\n      var days = [];\n      var monthDay = 30;\n\n      switch (month) {\n        case 1:\n        case 3:\n        case 5:\n        case 7:\n        case 8:\n        case 10:\n        case 12:\n          monthDay = 31;\n          break;\n\n        case 2:\n          if (year % 4 === 0 && year % 100 !== 0 || year % 400 === 0) {\n            monthDay = 29;\n          } else {\n            monthDay = 28;\n          }\n\n          break;\n\n        default:\n          break;\n      }\n\n      var _this$props2 = this.props,\n          _this$props2$startDat = _this$props2.startDateStr,\n          startDateStr = _this$props2$startDat === void 0 ? null : _this$props2$startDat,\n          _this$props2$endDateS = _this$props2.endDateStr,\n          endDateStr = _this$props2$endDateS === void 0 ? null : _this$props2$endDateS,\n          invalidDateNotSelected = _this$props2.invalidDateNotSelected;\n      var tempMonth = month < 10 ? '0' + month : month + '';\n\n      for (var d = 1; d <= monthDay; d++) {\n        var tempDay = d < 10 ? '0' + d : d + '';\n        var tempDate = year + '-' + tempMonth + '-' + tempDay;\n        var dayWeek = new Date(Date.parse(tempDate)).getDay();\n        var dayWeekText = '';\n\n        switch (dayWeek) {\n          case 0:\n            dayWeekText = '星期日';\n            break;\n\n          case 1:\n            dayWeekText = '星期一';\n            break;\n\n          case 2:\n            dayWeekText = '星期二';\n            break;\n\n          case 3:\n            dayWeekText = '星期三';\n            break;\n\n          case 4:\n            dayWeekText = '星期四';\n            break;\n\n          case 5:\n            dayWeekText = '星期五';\n            break;\n\n          case 6:\n            dayWeekText = '星期六';\n            break;\n\n          default:\n            break;\n        }\n\n        days.push({\n          key: year + '' + tempMonth + tempDay,\n          year: year + '',\n          month: tempMonth,\n          week: dayWeek,\n          weekText: dayWeekText,\n          holiday: this._getHoliday(year, tempMonth, tempDay),\n          isToday: this.dateInfo.nowDateStr === tempDate,\n          isLessToday: invalidDateNotSelected ? this.dateInfo.nowDateStr > tempDate : false,\n          isOver: invalidDateNotSelected ? expectDays > -1 && expectDays < d : false,\n          startSelected: tempDate === startDateStr,\n          endSelected: tempDate === endDateStr,\n          isSelected: tempDate > startDateStr && tempDate < endDateStr,\n          day: tempDay\n        });\n      }\n\n      return days;\n    }\n  }, {\n    key: \"_getHoliday\",\n    value: function _getHoliday(year, month, day) {\n      var info = calendar.solar2lunar(year, parseInt(month), parseInt(day));\n      var ndate = (info.month < 10 ? '0' + info.month : info.month + '') + '-' + (info.day < 10 ? '0' + info.day : info.day + '');\n      var holiday = nholidayMap[ndate];\n\n      if (holiday == void 0) {\n        holiday = yholidayMap[month + '-' + day];\n      }\n\n      return holiday || '';\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var sections = this.state.sections;\n      var _this$props3 = this.props,\n          _this$props3$days = _this$props3.days,\n          days = _this$props3$days === void 0 ? 0 : _this$props3$days,\n          _this$props3$months = _this$props3.months,\n          months = _this$props3$months === void 0 ? 0 : _this$props3$months,\n          _this$props3$startYea = _this$props3.startYear,\n          startYear = _this$props3$startYea === void 0 ? 0 : _this$props3$startYea,\n          _this$props3$endYear = _this$props3.endYear,\n          endYear = _this$props3$endYear === void 0 ? 0 : _this$props3$endYear,\n          _this$props3$startDat = _this$props3.startDateStr,\n          startDateStr = _this$props3$startDat === void 0 ? null : _this$props3$startDat,\n          _this$props3$endDateS = _this$props3.endDateStr,\n          endDateStr = _this$props3$endDateS === void 0 ? null : _this$props3$endDateS,\n          _this$props3$startSel = _this$props3.startSelectedHint,\n          startSelectedHint = _this$props3$startSel === void 0 ? null : _this$props3$startSel,\n          _this$props3$endSelec = _this$props3.endSelectedHint,\n          endSelectedHint = _this$props3$endSelec === void 0 ? null : _this$props3$endSelec,\n          _this$props3$onSelect = _this$props3.onSelectedDateBlock,\n          onSelectedDateBlock = _this$props3$onSelect === void 0 ? null : _this$props3$onSelect,\n          _this$props3$enableSi = _this$props3.enableSingleChoice,\n          enableSingleChoice = _this$props3$enableSi === void 0 ? false : _this$props3$enableSi,\n          _this$props3$selected = _this$props3.selectedColor,\n          selectedColor = _this$props3$selected === void 0 ? '#1895D4' : _this$props3$selected,\n          _this$props3$selected2 = _this$props3.selectedMidColor,\n          selectedMidColor = _this$props3$selected2 === void 0 ? 'rgba(24,149,212,0.2)' : _this$props3$selected2,\n          _this$props3$selected3 = _this$props3.selectedTextColor,\n          selectedTextColor = _this$props3$selected3 === void 0 ? '#fff' : _this$props3$selected3,\n          _this$props3$highligh = _this$props3.highlightColor,\n          highlightColor = _this$props3$highligh === void 0 ? 'red' : _this$props3$highligh,\n          _this$props3$invalidD = _this$props3.invalidDateNotSelected,\n          invalidDateNotSelected = _this$props3$invalidD === void 0 ? true : _this$props3$invalidD;\n      return React.createElement(View, {\n        style: styles.view,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 613,\n          columnNumber: 13\n        }\n      }, this._createWeekHeader(), React.createElement(SectionList, {\n        style: styles.sectionList,\n        renderSectionHeader: function renderSectionHeader(section) {\n          return _this4._createWeekSection(section);\n        },\n        renderItem: function renderItem(item) {\n          return _this4._createItem(item);\n        },\n        ItemSeparatorComponent: function ItemSeparatorComponent() {\n          return _this4._createRowLine();\n        },\n        sections: sections,\n        extraData: this.state,\n        enableVirtualization: true,\n        initialNumToRender: 4,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 615,\n          columnNumber: 17\n        }\n      }));\n    }\n  }]);\n\n  return Calendar;\n}(Component);\n\nCalendar.propTypes = {\n  days: PropTypes.number,\n  months: PropTypes.number,\n  startYear: PropTypes.number,\n  endYear: PropTypes.number,\n  startDateStr: PropTypes.string,\n  endDateStr: PropTypes.string,\n  startSelectedHint: PropTypes.string,\n  endSelectedHint: PropTypes.string,\n  onSelectedDateBlock: PropTypes.func,\n  selectedColor: PropTypes.string,\n  selectedMidColor: PropTypes.string,\n  selectedTextColor: PropTypes.string,\n  highlightColor: PropTypes.string,\n  enableSingleChoice: PropTypes.bool,\n  invalidDateNotSelected: PropTypes.bool\n};\nCalendar.defaultProps = {\n  days: 0,\n  months: 0,\n  startYear: 0,\n  endYear: 0,\n  startDateStr: null,\n  endDateStr: null,\n  startSelectedHint: null,\n  endSelectedHint: null,\n  onSelectedDateBlock: null,\n  selectedColor: '#1895D4',\n  selectedMidColor: 'rgba(24,149,212,0.2)',\n  selectedTextColor: '#fff',\n  highlightColor: 'red',\n  enableSingleChoice: false,\n  invalidDateNotSelected: true\n};\nexport { Calendar as default };\nvar styles = StyleSheet.create({\n  view: {\n    flex: 1\n  },\n  header: {\n    backgroundColor: '#fff',\n    height: 40,\n    flexDirection: 'row'\n  },\n  headerTitle: {\n    color: '#333',\n    alignSelf: 'center',\n    flexGrow: 1,\n    marginRight: 40,\n    textAlign: 'center'\n  },\n  headerWeek: {\n    flexDirection: 'row',\n    height: 30,\n    alignItems: 'center',\n    backgroundColor: '#f1f1f1'\n  },\n  headerWeekTitle: {\n    color: '#333',\n    flexGrow: 1,\n    textAlign: 'center'\n  },\n  headerWeekSection: {\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#fff',\n    height: 35\n  },\n  headerWeekSectionTitle: {\n    color: '#333',\n    backgroundColor: '#fff',\n    textAlign: 'center'\n  },\n  button: {\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#fff'\n  },\n  sectionList: {\n    flex: 1,\n    backgroundColor: '#fff'\n  },\n  sectionItem: {\n    backgroundColor: '#f1f1f1',\n    height: 300,\n    flexDirection: 'row',\n    flexWrap: 'wrap'\n  }\n});","map":{"version":3,"sources":["/Users/user/Desktop/ChouChou/App/node_modules/react-native-whc-calendar/calendar.js"],"names":["React","Component","PropTypes","CalendarGridItem","calendar","yholidayMap","nholidayMap","Calendar","props","cdate","Date","dateInfo","year","getFullYear","month","getMonth","day","getDate","nowDateStr","state","sections","startDate","endDate","calculateDate","Promise","resolve","reject","days","months","startYear","endYear","_generatorDateWithDays","_generatorDateWithMonth","_generatorDateWithYear","then","setState","timer","clearTimeout","style","text","onPress","styles","headerWeek","headerWeekTitle","color","item","section","title","headerWeekSection","headerWeekSectionTitle","_createRowLine","items","itemViews","oneDay","week","i","push","startSelectedHint","endSelectedHint","selectedColor","selectedMidColor","selectedTextColor","highlightColor","forEach","v","key","it","invalidDateNotSelected","onSelectedDateBlock","enableSingleChoice","tmpStartDate","data","dv","tmpdate","startSelected","endSelected","isSelected","isLessToday","replace","RegExp","tmpEndDate","itemLen","length","lastDay","sectionItem","height","backgroundColor","nowDate","sumDays","Math","floor","monthCount","expectDays","nowYear","nowMonth","years","curSumDays","y","tempMonthCount","startMonth","m","tempYear","tempMonth","_generatorDays","tempMonthStr","monthDay","startDateStr","endDateStr","d","tempDay","tempDate","dayWeek","parse","getDay","dayWeekText","weekText","holiday","_getHoliday","isToday","isOver","info","solar2lunar","parseInt","ndate","view","_createWeekHeader","sectionList","_createWeekSection","_createItem","propTypes","number","string","func","bool","defaultProps","StyleSheet","create","flex","header","flexDirection","headerTitle","alignSelf","flexGrow","marginRight","textAlign","alignItems","justifyContent","button","flexWrap"],"mappings":"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","sourcesContent":["//  Created by WHC on 18/4/10.\n//  Copyright © 2017年 WHC. All rights reserved.\n//\n//  Github <https://github.com/netyouli/react-native-whc-calendar>\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\nimport React, {Component} from 'react';\nimport {\n    View,\n    StyleSheet,\n    SectionList,\n    TouchableHighlight,\n    Text,\n} from 'react-native';\n\nimport PropTypes from 'prop-types';\nimport CalendarGridItem from './calendar-grid-item';\nimport {calendar} from './calendar-tool';\n\n/**\n * 阳历节日\n */\nconst yholidayMap = {\n    '01-01': '元旦',\n    '01-05': '小寒',\n    '01-06': '小寒',\n    '01-20': '大寒',\n    '01-21': '大寒',\n    '02-04': '立春',\n    '02-05': '立春',\n    '02-14': '情人节',\n    '02-18': '雨水',\n    '02-19': '雨水',\n    '02-24': '青年日',\n    '03-01': '海豹节',\n    '03-05': '雷锋纪念日',\n    '03-06': '惊蜇',\n    '03-08': '妇女节',\n    '03-12': '植树节',\n    '03-14': '警察日',\n    '03-17': '航海日',\n    '03-18': '活动日',\n    '03-20': '春分',\n    '03-21': '春分',\n    '03-22': '水日',\n    '03-23': '气象日',\n    '03-24': '结核病日',\n    '03-31': '教育日',\n    '04-01': '愚人节',\n    '04-03': '寒食节',\n    '04-04': '寒食节',\n    '04-05': '清明节',\n    '04-20': '谷雨',\n    '04-21': '谷雨',\n    '05-01': '劳动节',\n    '05-04': '青年节',\n    '05-05': '立夏',\n    '05-06': '立夏',\n    '05-20': '小满',\n    '05-21': '小满',\n    '06-01': '儿童节',\n    '06-05': '芒种',\n    '06-06': '芒种',\n    '06-21': '夏至',\n    '06-22': '夏至',\n    '07-07': '小暑',\n    '07-08': '小暑',\n    '07-22': '大暑',\n    '07-23': '大暑',\n    '08-01': '建军节',\n    '08-07': '立秋',\n    '08-08': '立秋',\n    '08-23': '处暑',\n    '08-24': '处暑',\n    '09-07': '白露',\n    '09-08': '白露',\n    '09-10': '教师节',\n    '09-17': '和平日',\n    '09-23': '秋分',\n    '09-24': '秋分',\n    '10-01': '国庆节',\n    '10-08': '寒露',\n    '10-09': '寒露',\n    '10-23': '霜降',\n    '10-24': '联合国日',\n    '10-31': '万圣节',\n    '11-02': '万灵节',\n    '11-07': '立冬',\n    '11-08': '立冬',\n    '11-11': '光棍节',\n    '11-17': '大学生节',\n    '11-22': '小雪',\n    '11-23': '小雪',\n    '12-07': '大雪',\n    '12-08': '大雪',\n    '12-21': '冬至',\n    '12-22': '冬至',\n    '12-24': '平安夜',\n    '12-25': '圣诞节',\n    \n};\n\n\n/**\n * 农历节日\n */\nconst nholidayMap = {\n    '01-01': '春节',\n    '01-15': '元宵节',\n    '05-05': '端午节',\n    '07-07': '情人节',\n    '08-15': '中秋节',\n    '09-09': '重阳节',\n    '06-24': '火把节',\n    '10-01': '祭祖节',\n    '12-08': '腊八节',\n    '12-23': '小年',\n    '12-30': '除夕',\n};\n\nexport default class Calendar extends Component {\n\n    static propTypes = {\n        days:                   PropTypes.number,\n        months:                 PropTypes.number,\n        startYear:              PropTypes.number,\n        endYear:                PropTypes.number,\n        startDateStr:           PropTypes.string,\n        endDateStr:             PropTypes.string,\n        startSelectedHint:      PropTypes.string,\n        endSelectedHint:        PropTypes.string,\n        onSelectedDateBlock:    PropTypes.func,\n        selectedColor:          PropTypes.string,\n        selectedMidColor:       PropTypes.string,\n        selectedTextColor:      PropTypes.string,\n        highlightColor:         PropTypes.string,\n        enableSingleChoice:     PropTypes.bool,\n        invalidDateNotSelected: PropTypes.bool,\n    };\n\n    static defaultProps = {\n        days:                   0,\n        months:                 0,\n        startYear:              0,\n        endYear:                0,\n        startDateStr:           null,\n        endDateStr:             null,\n        startSelectedHint:      null,\n        endSelectedHint:        null,\n        onSelectedDateBlock:    null,\n        selectedColor:          '#1895D4',\n        selectedMidColor:       'rgba(24,149,212,0.2)',\n        selectedTextColor:      '#fff',\n        highlightColor:         'red',\n        enableSingleChoice:     false,\n        invalidDateNotSelected: true,\n    };\n\n    constructor(props) {\n        super(props);\n        const cdate = new Date();\n        this.dateInfo = {\n            year: cdate.getFullYear(),\n            month: cdate.getMonth() + 1,\n            day: cdate.getDate(),\n            nowDateStr: cdate.getFullYear() + '-' + ((cdate.getMonth() + 1) < 10 ? '0' + (cdate.getMonth() + 1) : (cdate.getMonth() + 1) + '') + '-' + (cdate.getDate() < 10 ? '0' + cdate.getDate() : cdate.getDate() + ''),\n        };\n        this.state = {\n            sections: [],\n        };\n        this.sections = [];\n        this.startDate = null;\n        this.endDate = null;\n    }\n\n    componentDidMount() {\n        const calculateDate = new Promise((resolve,reject) => {\n            const {\n                days,\n                months,\n                startYear,\n                endYear,\n            } = this.props;\n            let sections = [];\n            if (days > 0) {\n                sections = this._generatorDateWithDays(days);\n            }else if (months > 0) {\n                sections = this._generatorDateWithMonth(months);\n            }else if (startYear > 0 && endYear > 0) {\n                sections = this._generatorDateWithYear(startYear, endYear);\n            }\n            resolve(sections);\n        });\n        calculateDate.then((sections) => {\n            this.setState(state => {\n                state.sections = sections;\n                return state;\n            });\n        });\n    }\n\n    componentWillUnmount() {\n        this.timer && clearTimeout(this.timer);\n    }\n\n    /**\n     * 创建按钮\n     * @returns {*}\n     * @private\n     */\n    _createButton(style, text, onPress) {\n        return (\n            <TouchableHighlight style={style}\n                                underlayColor={'transparency'}\n                                onPress={onPress}>\n                <Text>{text}</Text>\n            </TouchableHighlight>\n        );\n    }\n\n    /**\n     * 创建周头部\n     * @returns {*}\n     * @private\n     */\n    _createWeekHeader() {\n        return (\n            <View style={styles.headerWeek}>\n                <Text style={[styles.headerWeekTitle, {color: 'red'}]}>{'日'}</Text>\n                <Text style={styles.headerWeekTitle}>{'一'}</Text>\n                <Text style={styles.headerWeekTitle}>{'二'}</Text>\n                <Text style={styles.headerWeekTitle}>{'三'}</Text>\n                <Text style={styles.headerWeekTitle}>{'四'}</Text>\n                <Text style={styles.headerWeekTitle}>{'五'}</Text>\n                <Text style={[styles.headerWeekTitle, {color: 'red'}]}>{'六'}</Text>\n            </View>\n        );\n    }\n\n    /**\n     * 创建列表年月日section\n     * @private\n     */\n    _createWeekSection(item) {\n        const {\n            section,\n        } = item;\n        return (\n            [<View key={section.title}\n                   style={styles.headerWeekSection}>\n                <Text style={styles.headerWeekSectionTitle}>{section.title}</Text>\n            </View>,\n                this._createRowLine(section.title + '1')]\n        );\n    }\n\n    /**\n     * 创建\n     * @param item\n     * @returns {*}\n     * @private\n     */\n    _createItem(items) {\n        let itemViews = [];\n        const {\n            item,\n        } = items;\n        const oneDay = item.days[0];\n        if (oneDay.week > 0) {\n            for (let i = 0; i < oneDay.week; i++) {\n                itemViews.push(<CalendarGridItem key={i} item={null}/>);\n            }\n        }\n        const {\n            startSelectedHint = null,\n            endSelectedHint = null,\n            selectedColor = '#1895D4',\n            selectedMidColor = 'rgba(24,149,212,0.2)',\n            selectedTextColor = '#fff',\n            highlightColor = 'red',\n        } = this.props;\n\n        item.days.forEach((v,i) => {\n            itemViews.push(\n                <CalendarGridItem\n                    startSelectedHint={startSelectedHint}\n                    endSelectedHint={endSelectedHint}\n                    selectedColor={selectedColor}\n                    selectedMidColor={selectedMidColor}\n                    selectedTextColor={selectedTextColor}\n                    highlightColor={highlightColor}\n                    key={v.key}\n                    item={v}\n                    onPress={(it) => {\n                        const {\n                            invalidDateNotSelected,\n                            onSelectedDateBlock = null,\n                            enableSingleChoice = false,\n                        } = this.props;\n                        const {\n                            sections = [],\n                        } = this.state;\n                        if (!this.startDate || (this.startDate && this.endDate) || enableSingleChoice) {\n                            this.startDate = it;\n                            this.endDate = null;\n                            const {\n                                startDate = null,\n                            } = this;\n                            const tmpStartDate = startDate.year + startDate.month + startDate.day;\n                            sections.forEach(v => {\n                                v.data[0].days.forEach(dv => {\n                                    const tmpdate = dv.year + dv.month + dv.day;\n                                    dv.startSelected = tmpStartDate === tmpdate;\n                                    dv.endSelected = false;\n                                    dv.isSelected = false;\n                                    dv.isLessToday = invalidDateNotSelected ? tmpStartDate > tmpdate : false;\n                                });\n                            });\n                            if (enableSingleChoice) {\n                                onSelectedDateBlock && onSelectedDateBlock(startDate.year + '-' + startDate.month + '-' + startDate.day, null);\n                            }\n                        }else if (!this.endDate) {\n                            this.endDate = it;\n                            const {\n                                startDate = null,\n                                endDate = null,\n                            } = this;\n                            const nowDateStr = this.dateInfo.nowDateStr.replace(new RegExp('-','g'),'');\n                            const tmpStartDate = startDate.year + startDate.month + startDate.day;\n                            const tmpEndDate = endDate.year + endDate.month + endDate.day;\n                            sections.forEach(v => {\n                                v.data[0].days.forEach(dv => {\n                                    const tmpdate = dv.year + dv.month + dv.day;\n                                    dv.startSelected = tmpStartDate === tmpdate;\n                                    dv.endSelected = tmpEndDate === tmpdate;\n                                    dv.isSelected = tmpdate > tmpStartDate && tmpdate < tmpEndDate;\n                                    dv.isLessToday = invalidDateNotSelected ? nowDateStr > tmpdate : false;\n                                });\n                            });\n                            onSelectedDateBlock && onSelectedDateBlock(startDate.year + '-' + startDate.month + '-' + startDate.day,\n                                endDate.year + '-' + endDate.month + '-' + endDate.day);\n                        }\n                        this.setState(state => {\n                            state.sections = sections;\n                            return state;\n                        });\n                    }\n\n            }/>);\n        });\n        itemLen = itemViews.length;\n        const lastDay = item.days[item.days.length - 1];\n        if (lastDay.week < 6) {\n            for (let i = lastDay.week; i < 6; i++) {\n                itemViews.push(<CalendarGridItem\n                    key={itemLen + i}\n                    item={null}/>);\n            }\n        }\n        return (\n            <View\n                key={item.key}\n                style={styles.sectionItem}>\n                {itemViews}\n            </View>\n        );\n    }\n\n    /**\n     * 创建线\n     * @returns {*}\n     * @private\n     */\n    _createRowLine(key = '0') {\n        return (\n            <View key={key} style={{height:1,backgroundColor:'#f1f1f1'}}/>\n        );\n    }\n\n    /**\n     * 生成日期天数\n     * @param days\n     * @private\n     */\n    _generatorDateWithDays(days = -1) {\n        let sections = [];\n        if(days > 0) {\n            const nowDate = new Date();\n            const sumDays = nowDate.getDate() + days;\n            const months = Math.floor(sumDays / 30) + (sumDays % 30 !== 0 ? 1 : 0);\n            sections = this._generatorDateWithMonth(months, sumDays);\n        }\n        return sections;\n    }\n\n    /**\n     * 自动生成日期数据\n     * @param monthCount\n     * @private\n     */\n    _generatorDateWithMonth(monthCount, expectDays = -1) {\n        let sections = [];\n        const nowDate = new Date();\n        const nowYear = nowDate.getFullYear();\n        const nowMonth = nowDate.getMonth();\n        const years = Math.floor((nowMonth + monthCount) / 12) + ((monthCount + nowMonth) % 12 !== 0 ? 1 : 0);\n        let curSumDays = 0;\n        for (let y = 0; y < years; y++) {\n            let tempMonthCount = 12;\n            let startMonth = 0;\n            if (y === 0) {\n                startMonth = nowMonth;\n            }\n            if (y === years - 1) {\n                tempMonthCount = monthCount - sections.length;\n                if (tempMonthCount < startMonth || y === 0) {\n                    tempMonthCount = startMonth + tempMonthCount;\n                }\n            }\n            for (let m = startMonth; m < tempMonthCount; m++) {\n                const tempYear = nowYear + y;\n                const tempMonth = m + 1;\n                const days = this._generatorDays(tempYear, tempMonth, expectDays - curSumDays);\n                curSumDays += days.length;\n                const tempMonthStr = (tempMonth < 10 ? ('0' + tempMonth) : (tempMonth + ''));\n                const key = tempYear + '年' + tempMonth + '月';\n                sections.push({\n                    key: key,\n                    title: key,\n                    year: tempYear + '',\n                    month: tempMonthStr,\n                    data: [{\n                        key: key,\n                        days: days\n                    }],\n                });\n            }\n        }\n        return sections;\n    }\n\n    /**\n     * 生成日期数据\n     * @private\n     */\n    _generatorDateWithYear(startYear, endYear) {\n        let sections = [];\n        if (endYear >= startYear) {\n            const years = endYear - startYear;\n            for (let y = 0; y <= years; y++) {\n                for (let m = 0; m < 12; m++) {\n                    const tempYear = startYear + y;\n                    const tempMonth = m + 1;\n                    const days = this._generatorDays(tempYear, tempMonth);\n                    const key = tempYear + '年' + tempMonth + '月';\n                    const tempMonthStr = (tempMonth < 10 ? ('0' + tempMonth) : (tempMonth + ''));\n                    sections.push({\n                        key: key,\n                        title: key,\n                        year: tempYear + '',\n                        month: tempMonthStr,\n                        data: [{\n                            key: key,\n                            days: days\n                        }],\n                    });\n                }\n            }\n        }\n        return sections;\n    }\n\n\n    /**\n     * 获取每个月多少天\n     * @param year\n     * @param month\n     * @param expectDays\n     * @returns {Array}\n     * @private\n     */\n    _generatorDays(year, month, expectDays = -1) {\n        let days = [];\n        let monthDay = 30;\n        switch (month) {\n            case 1:\n            case 3:\n            case 5:\n            case 7:\n            case 8:\n            case 10:\n            case 12:\n                monthDay = 31;\n                break;\n            case 2:\n                if ((year % 4 === 0 && year % 100 !== 0) || year % 400 === 0 ) {\n                    monthDay = 29;\n                }else {\n                    monthDay = 28;\n                }\n                break;\n            default:\n                break;\n        }\n        const {\n            startDateStr = null,\n            endDateStr = null,\n            invalidDateNotSelected,\n        } = this.props;\n        const tempMonth = month < 10 ? '0' + month : month + '';\n        for (let d = 1; d <= monthDay; d++) {\n            const tempDay = d < 10 ? '0' + d : d + '';\n            const tempDate = year + '-' + tempMonth + '-' + tempDay;\n            const dayWeek = new Date(Date.parse(tempDate)).getDay();\n            let dayWeekText = '';\n            switch (dayWeek) {\n                case 0:\n                    dayWeekText = '星期日';\n                    break;\n                case 1:\n                    dayWeekText = '星期一';\n                    break;\n                case 2:\n                    dayWeekText = '星期二';\n                    break;\n                case 3:\n                    dayWeekText = '星期三';\n                    break;\n                case 4:\n                    dayWeekText = '星期四';\n                    break;\n                case 5:\n                    dayWeekText = '星期五';\n                    break;\n                case 6:\n                    dayWeekText = '星期六';\n                    break;\n                default:\n                    break;\n            }\n            days.push({\n                key: year + '' + tempMonth + tempDay,\n                year: year + '',\n                month: tempMonth,\n                week: dayWeek,\n                weekText: dayWeekText,\n                holiday: this._getHoliday(year, tempMonth, tempDay),\n                isToday: this.dateInfo.nowDateStr === tempDate,\n                isLessToday: invalidDateNotSelected ? this.dateInfo.nowDateStr > tempDate : false,\n                isOver: invalidDateNotSelected ? expectDays > -1 && expectDays < d : false,\n                startSelected: tempDate === startDateStr,\n                endSelected: tempDate === endDateStr,\n                isSelected: tempDate > startDateStr && tempDate < endDateStr,\n                day: tempDay,\n            });\n        }\n        return days;\n    }\n\n    /**\n     * 获取节日\n     * @param month\n     * @param day\n     * @private\n     */\n    _getHoliday(year, month, day) {\n        const info = calendar.solar2lunar(year,parseInt(month),parseInt(day));\n        const ndate = (info.month < 10 ? '0' + info.month : info.month + '') + '-' + (info.day < 10 ? '0' + info.day : info.day + '');\n        let holiday = nholidayMap[ndate];\n        if (holiday == void 0) {\n            holiday = yholidayMap[month + '-' + day];\n        }\n        return holiday || '';\n    }\n\n    render() {\n        const {\n            sections\n        } = this.state;\n        const {\n            days = 0,\n            months = 0,\n            startYear = 0,\n            endYear = 0,\n            startDateStr = null,\n            endDateStr = null,\n            startSelectedHint = null,\n            endSelectedHint = null,\n            onSelectedDateBlock = null,\n            enableSingleChoice = false,\n            selectedColor = '#1895D4',\n            selectedMidColor = 'rgba(24,149,212,0.2)',\n            selectedTextColor = '#fff',\n            highlightColor = 'red',\n            invalidDateNotSelected = true,\n        } = this.props;\n        return(\n            <View style={styles.view}>\n                {this._createWeekHeader()}\n                <SectionList\n                    style={styles.sectionList}\n                    renderSectionHeader={(section) => this._createWeekSection(section)}\n                    renderItem={(item) => this._createItem(item)}\n                    ItemSeparatorComponent = {() => this._createRowLine()}\n                    sections={sections}\n                    extraData={this.state}\n                    enableVirtualization={true}\n                    initialNumToRender={4}\n                />\n            </View>\n        );\n    }\n}\n\nconst styles = StyleSheet.create({\n    view: {\n        flex: 1,\n    },\n    header: {\n        backgroundColor: '#fff',\n        height: 40,\n        flexDirection: 'row',\n    },\n    headerTitle: {\n        color: '#333',\n        alignSelf: 'center',\n        flexGrow: 1,\n        marginRight: 40,\n        textAlign: 'center',\n    },\n    headerWeek: {\n        flexDirection:'row',\n        height: 30,\n        alignItems: 'center',\n        backgroundColor: '#f1f1f1',\n    },\n    headerWeekTitle: {\n        color: '#333',\n        flexGrow: 1,\n        textAlign: 'center',\n    },\n    headerWeekSection: {\n        justifyContent: 'center',\n        alignItems: 'center',\n        backgroundColor: '#fff',\n        height: 35,\n    },\n    headerWeekSectionTitle: {\n        color: '#333',\n        backgroundColor: '#fff',\n        textAlign: 'center',\n    },\n    button: {\n        justifyContent: 'center',\n        alignItems: 'center',\n        backgroundColor: '#fff',\n    },\n    sectionList: {\n        flex: 1,\n        backgroundColor: '#fff',\n    },\n    sectionItem: {\n        backgroundColor: '#f1f1f1',\n        height: 300,\n        flexDirection: 'row',\n        flexWrap: 'wrap',\n    },\n});"]},"metadata":{},"sourceType":"module"}